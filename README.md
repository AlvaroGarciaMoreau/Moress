# More- ğŸ” **AutenticaciÃ³n segura**: ContraseÃ±a maestra para acceder a la aplicaciÃ³n
- ğŸ‘† **AutenticaciÃ³n biomÃ©trica**: Soporte para huella dactilar y Face ID
- ğŸ” **BÃºsqueda rÃ¡pida**: Busca servicios por nombre de servicio y nombre de usuario
- ğŸ”’ **EncriptaciÃ³n avanzada**: Todas las contraseÃ±as se almacenan encriptadas con algoritmos seguros
- ğŸ“± **Interfaz intuitiva**: DiseÃ±o moderno y fÃ¡cil de usar con Material Design
- ğŸ“‹ **Copiar al portapapeles**: Copia contraseÃ±as con un toque
- ğŸ—‘ï¸ **GestiÃ³n completa**: AÃ±adir, eliminar, editar y gestionar servicios
- ğŸ”„ **Generador de contraseÃ±as**: Genera contraseÃ±as seguras automÃ¡ticamente
- â±ï¸ **Auto-bloqueo por inactividad**: Cierre automÃ¡tico de la app por seguridad (30s)
- ğŸ›¡ï¸ **ProtecciÃ³n de ciclo de vida**: Logout automÃ¡tico al minimizar o cambiar de app
- ğŸ”„ **Pull-to-refresh**: Actualiza la lista de servicios deslizando hacia abajo
- ğŸ¨ **DiseÃ±o responsive**: Interfaz adaptada para diferentes tamaÃ±os de pantalla
- ğŸ”§ **DetecciÃ³n de interacciones**: Sistema inteligente que reinicia timers con cualquier actividad de ContraseÃ±as

Moress es una aplicaciÃ³n mÃ³vil desarrollada en Flutter para gestionar de forma segura las contraseÃ±as de diferentes servicios y aplicaciones.

## CaracterÃ­sticas

- ğŸ” **AutenticaciÃ³n segura**: ContraseÃ±a maestra para acceder a la aplicaciÃ³n
- ï¿½ **AutenticaciÃ³n biomÃ©trica**: Soporte para huella dactilar y Face ID
- ï¿½ğŸ” **BÃºsqueda rÃ¡pida**: Busca servicios por nombre de servicio y nombre de usuario
- ğŸ”’ **EncriptaciÃ³n avanzada**: Todas las contraseÃ±as se almacenan encriptadas con algoritmos seguros
- ğŸ“± **Interfaz intuitiva**: DiseÃ±o moderno y fÃ¡cil de usar con Material Design
- ğŸ“‹ **Copiar al portapapeles**: Copia contraseÃ±as con un toque
- ğŸ—‘ï¸ **GestiÃ³n completa**: AÃ±adir, eliminar, editar y gestionar servicios
- ğŸ”„ **Generador de contraseÃ±as**: Genera contraseÃ±as seguras automÃ¡ticamente
- â±ï¸ **Auto-bloqueo por inactividad**: Cierre automÃ¡tico de la app por seguridad
- ğŸ”„ **Pull-to-refresh**: Actualiza la lista de servicios deslizando hacia abajo
- ğŸ¨ **DiseÃ±o responsive**: Interfaz adaptada para diferentes tamaÃ±os de pantalla

## InstalaciÃ³n

1. AsegÃºrate de tener Flutter instalado en tu sistema
2. Clona este repositorio
3. Ejecuta `flutter pub get` para instalar las dependencias
4. Ejecuta `flutter run` para iniciar la aplicaciÃ³n

## Uso

### Primera configuraciÃ³n
1. Al iniciar por primera vez, crea tu contraseÃ±a maestra
2. Configura la autenticaciÃ³n biomÃ©trica si tu dispositivo la soporta
3. La contraseÃ±a maestra se puede cambiar desde la pantalla principal

### AutenticaciÃ³n
- **ContraseÃ±a maestra**: Introduce tu contraseÃ±a para acceder
- **BiometrÃ­a**: Usa huella dactilar o Face ID para acceso rÃ¡pido y seguro
- **Auto-bloqueo por inactividad**: La app se cierra automÃ¡ticamente tras 30 segundos sin actividad
- **ProtecciÃ³n total**: Logout automÃ¡tico al minimizar, cambiar de app o perder el foco
- **DetecciÃ³n inteligente**: Cualquier toque, scroll o interacciÃ³n reinicia el temporizador de seguridad

### GestiÃ³n de servicios
1. **AÃ±adir servicio**: Toca el botÃ³n "+" flotante
   - Introduce el nombre del servicio
   - AÃ±ade el nombre de usuario
   - Introduce la contraseÃ±a o usa el generador automÃ¡tico
   - Guarda el servicio
2. **Ver contraseÃ±as**: Toca cualquier tarjeta de servicio
   - La contraseÃ±a se mostrarÃ¡ temporalmente
   - Usa el icono de copiar para copiarla al portapapeles
3. **Editar servicios**: MantÃ©n presionado un servicio para editarlo
4. **Eliminar servicios**: Desliza o usa el menÃº de opciones

### BÃºsqueda y filtrado
- Usa el campo de bÃºsqueda en la parte superior
- Busca por nombre de servicio o usuario
- Los resultados se filtran automÃ¡ticamente mientras escribes

### ConfiguraciÃ³n
- **Cambiar contraseÃ±a maestra**: Desde el menÃº de configuraciÃ³n
- **Ver estadÃ­sticas**: NÃºmero de contraseÃ±as guardadas
- **Cerrar sesiÃ³n**: Vuelve a la pantalla de login

## Seguridad

- **EncriptaciÃ³n robusta**: Todas las contraseÃ±as se encriptan con algoritmos seguros antes de almacenarse
- **Almacenamiento local**: Los datos se guardan exclusivamente en tu dispositivo
- **Sin conexiÃ³n a internet**: Funciona completamente offline para mÃ¡xima privacidad
- **ContraseÃ±a maestra**: Protege el acceso a toda la aplicaciÃ³n
- **AutenticaciÃ³n biomÃ©trica**: Huella dactilar y Face ID para acceso seguro y conveniente
- **Auto-bloqueo inteligente**: 
  - Advertencia a los 25 segundos de inactividad real
  - Cierre automÃ¡tico a los 30 segundos sin interacciÃ³n
  - DetecciÃ³n avanzada de todas las interacciones del usuario
- **ProtecciÃ³n del ciclo de vida de la aplicaciÃ³n**:
  - ğŸ”’ Logout automÃ¡tico al **minimizar la app**
  - ğŸ”’ Logout automÃ¡tico al **cambiar a otra aplicaciÃ³n**
  - ğŸ”’ Logout automÃ¡tico al **abrir el selector de apps recientes**
  - ğŸ”’ Logout automÃ¡tico durante **llamadas telefÃ³nicas**
  - ğŸ”’ Logout automÃ¡tico con **notificaciones que toman el foco**
  - ğŸ”’ Logout automÃ¡tico en **modo multitarea/split screen**
  - ğŸ”’ **ReautenticaciÃ³n obligatoria** al volver a la app
- **GestiÃ³n segura de memoria**: Limpieza automÃ¡tica de datos sensibles
- **ValidaciÃ³n de entrada**: VerificaciÃ³n de datos para prevenir ataques
- **Manejo robusto de errores**: Sistema de autenticaciÃ³n biomÃ©trica con mÃºltiples validaciones

## Estructura del Proyecto

```
lib/
â”œâ”€â”€ main.dart                    # Punto de entrada de la aplicaciÃ³n
â”œâ”€â”€ models/
â”‚   â””â”€â”€ service.dart            # Modelo de datos para servicios
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ login_screen.dart       # Pantalla de login con biometrÃ­a
â”‚   â”œâ”€â”€ home_screen.dart        # Pantalla principal con auto-bloqueo
â”‚   â”œâ”€â”€ add_service_screen.dart # Pantalla para aÃ±adir/editar servicios
â”‚   â””â”€â”€ create_password_screen.dart # Pantalla de creaciÃ³n de contraseÃ±a
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ database_service.dart   # Servicio de base de datos SQLite
â”‚   â””â”€â”€ encryption_service.dart # Servicio de encriptaciÃ³n segura
â””â”€â”€ widgets/
    â””â”€â”€ service_card.dart       # Widget para mostrar servicios
```

## Dependencias Principales

- `sqflite: ^2.3.0` - Base de datos SQLite local
- `crypto: ^3.0.3` - EncriptaciÃ³n y hash de datos
- `path: ^1.8.3` - Manejo de rutas de archivos
- `shared_preferences: ^2.2.2` - Almacenamiento de preferencias
- `local_auth: ^2.1.7` - AutenticaciÃ³n biomÃ©trica

## Requisitos del Sistema

### Android
- **VersiÃ³n mÃ­nima**: Android 6.0 (API level 23)
- **Permisos necesarios**: 
  - `USE_BIOMETRIC` - Para autenticaciÃ³n biomÃ©trica
  - `USE_FINGERPRINT` - Para huella dactilar
- **Hardware opcional**: Sensor de huella dactilar o cÃ¡mara para Face ID

### iOS
- **VersiÃ³n mÃ­nima**: iOS 10.0
- **Frameworks**: LocalAuthentication.framework
- **Hardware opcional**: Touch ID o Face ID

## PersonalizaciÃ³n

### Cambiar colores del tema
Edita el archivo `lib/main.dart` y modifica los colores en el `ThemeData`:
```dart
primarySwatch: Colors.blue,
colorScheme: ColorScheme.fromSeed(seedColor: Color(0xFF667eea)),
```

### Configurar temporizador de auto-bloqueo
En `lib/screens/home_screen.dart`, modifica las duraciones:
```dart
// Timer de advertencia (por defecto: 25 segundos)
_warningTimer = Timer(const Duration(seconds: 25), () { ... });

// Timer de cierre (por defecto: 30 segundos)  
_inactivityTimer = Timer(const Duration(seconds: 30), () { ... });
```

### Configurar protecciÃ³n del ciclo de vida
La protecciÃ³n automÃ¡tica estÃ¡ habilitada por defecto. Para personalizarla, edita `didChangeAppLifecycleState` en `home_screen.dart`:
```dart
case AppLifecycleState.paused:
  // Personalizar comportamiento al minimizar
  _logout();
  break;
```

### Personalizar mensajes biomÃ©tricos
En `lib/screens/login_screen.dart`, edita el texto de autenticaciÃ³n:
```dart
localizedReason: 'Tu mensaje personalizado aquÃ­',
```

## SoluciÃ³n de Problemas

### AutenticaciÃ³n biomÃ©trica no funciona
1. Verifica que el dispositivo tenga biometrÃ­a configurada
2. Revisa los permisos en `android/app/src/main/AndroidManifest.xml`
3. AsegÃºrate de que el sensor estÃ© limpio y funcionando
4. Comprueba que la app tenga permisos de biometrÃ­a en configuraciÃ³n del sistema

### La app pide autenticaciÃ³n constantemente
Esto es **comportamiento normal de seguridad**. La app requiere reautenticaciÃ³n:
- Al minimizar y volver a abrir
- Al cambiar de app y regresar
- Al recibir llamadas o notificaciones
- DespuÃ©s de 30 segundos de inactividad

### Error "Incorrect GestureDetector arguments"
Este error se solucionÃ³ completamente en la versiÃ³n actual usando `Listener` en lugar de `GestureDetector`.

### La app se cierra inesperadamente
- Verifica que no haya errores en la configuraciÃ³n de la base de datos
- Revisa los logs para identificar el problema especÃ­fico
- AsegÃºrate de que los permisos del AndroidManifest.xml estÃ©n correctos

### Problemas de rendimiento o lag
- La detecciÃ³n de interacciones es muy eficiente
- Si experimentas lag, verifica que no hay otras apps consumiendo recursos
- Reinicia el dispositivo si es necesario

## Notas de Desarrollo

âš ï¸ **Importante**: 
- Este proyecto ha sido desarrollado con asistencia de IA (Cursor)
- Si planeas usar este cÃ³digo en producciÃ³n, revÃ­salo cuidadosamente
- Realiza pruebas exhaustivas antes del despliegue

## CaracterÃ­sticas Implementadas

- âœ… AutenticaciÃ³n con contraseÃ±a maestra
- âœ… AutenticaciÃ³n biomÃ©trica (huella dactilar, Face ID) con manejo robusto de errores
- âœ… Auto-bloqueo por inactividad con detecciÃ³n inteligente de interacciones
- âœ… **ProtecciÃ³n completa del ciclo de vida de la aplicaciÃ³n**
- âœ… **Logout automÃ¡tico al minimizar o cambiar de app**
- âœ… **DetecciÃ³n de todos los estados de la aplicaciÃ³n**
- âœ… EncriptaciÃ³n segura de contraseÃ±as
- âœ… Generador de contraseÃ±as
- âœ… BÃºsqueda y filtrado en tiempo real
- âœ… Interfaz de usuario intuitiva
- âœ… GestiÃ³n completa de servicios (CRUD)
- âœ… Copia al portapapeles
- âœ… Pull-to-refresh
- âœ… ValidaciÃ³n de formularios
- âœ… Manejo robusto de errores
- âœ… **Sistema de timers inteligentes**
- âœ… **DetecciÃ³n avanzada de gestos e interacciones**

## PrÃ³ximas Mejoras

- ğŸ”„ Respaldo y restauraciÃ³n de datos
- ğŸ“Š AnÃ¡lisis de seguridad de contraseÃ±as
- ğŸ”” Recordatorios de cambio de contraseÃ±a
- ğŸŒ™ Modo oscuro
- ğŸ“± Soporte para tablets
- ğŸ” AutenticaciÃ³n de dos factores
- âš™ï¸ ConfiguraciÃ³n personalizable de timeouts
- ğŸ“ˆ EstadÃ­sticas de uso y seguridad
- ğŸ¨ Temas personalizables
- ğŸ” BÃºsqueda avanzada con filtros

## Seguridad de Nivel Bancario

**Moress implementa medidas de seguridad comparables a aplicaciones bancarias:**

ğŸ” **MÃºltiples capas de protecciÃ³n**
ğŸ›¡ï¸ **DetecciÃ³n avanzada del ciclo de vida de la app**
â±ï¸ **Timeouts inteligentes basados en actividad real**
ğŸ‘† **BiometrÃ­a con validaciones robustas**
ğŸ”’ **EncriptaciÃ³n de grado militar**
ğŸ“± **ProtecciÃ³n contra acceso no autorizado**

**No es posible acceder a las contraseÃ±as sin autenticaciÃ³n vÃ¡lida**, incluso si:
- Se minimiza la aplicaciÃ³n momentÃ¡neamente
- Se cambia de app y se regresa inmediatamente
- Se recibe una notificaciÃ³n o llamada
- Se abre el selector de aplicaciones recientes
- Se usa multitarea o split screen

## Licencia

Este proyecto es de cÃ³digo abierto y estÃ¡ disponible bajo la licencia MIT.

## Autor

**Creado por Ãlvaro GarcÃ­a Moreau**
- GitHub: [@AlvaroGarciaMoreau](https://github.com/AlvaroGarciaMoreau)

## Contribuciones

Las contribuciones son bienvenidas. Por favor:
1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/nueva-caracteristica`)
3. Commit tus cambios (`git commit -am 'AÃ±ade nueva caracterÃ­stica'`)
4. Push a la rama (`git push origin feature/nueva-caracteristica`)
5. Crea un Pull Request

## Agradecimientos

- Desarrollado con asistencia de Cursor AI
- Inspirado en la necesidad de gestiÃ³n segura de contraseÃ±as
- Gracias a la comunidad de Flutter por los excelentes paquetes
